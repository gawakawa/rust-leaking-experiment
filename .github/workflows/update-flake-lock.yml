name: "Update Flake Lock"

on:
  workflow_dispatch: # Allow manual trigger
  schedule:
    - cron: "0 15 1 * *" # Run on the 1st of every month at 00:00 JST (prev day 15:00 UTC)

permissions:
  contents: write
  pull-requests: write

jobs:
  update-flake-lock:
    uses: gawakawa/.github/.github/workflows/update-flake-lock.yml@main
    with:
      auto-merge: true
      branch: "update-flake-lock"
    secrets:
      GH_TOKEN: ${{ secrets.GH_TOKEN }}
